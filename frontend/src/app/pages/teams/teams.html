<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div class="flex flex-column gap-4 p-4">
  <app-page-header title="Gestión de Equipos" subtitle="Administra los equipos y sus miembros" icon="pi pi-users">
    <p-button label="Nuevo Equipo" icon="pi pi-plus" (onClick)="openNew()"></p-button>
  </app-page-header>

  <div class="card">
    <p-table [value]="teams()" [loading]="loading()" [paginator]="true" [rows]="10" styleClass="p-datatable-sm">
      <ng-template pTemplate="header">
        <tr>
          <th>Nombre</th>
          <th>Descripción</th>
          <th style="width: 10rem">Acciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-team>
        <tr>
          <td>{{ team.name }}</td>
          <td>{{ team.description }}</td>
          <td>
            <div class="flex gap-2">
              <p-button icon="pi pi-pencil" (onClick)="editTeam(team)" [rounded]="true" [text]="true" severity="info" pTooltip="Editar"></p-button>
              <p-button icon="pi pi-trash" (onClick)="deleteTeam(team)" [rounded]="true" [text]="true" severity="danger" pTooltip="Eliminar"></p-button>
            </div>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="3" class="text-center p-4">No hay equipos registrados</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<app-team-dialog 
  [(visible)]="dialogVisible" 
  [team]="editingTeam()"
  (save)="onSave()">
</app-team-dialog>
